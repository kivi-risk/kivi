# 数据埋点

在风险识别场景中，数据维度的多少直接决定了策略分析的变量池，池子越大分析可操作空间越多。除了客户主动提供的信息（进件要素）之外，机构主动获取信息也是一个不可或缺的方式，当然前提是合规。埋点数据就是其中一个很重要的拼图。 

## 数据埋点全流程

简单来讲，埋点就是在期望的位置，埋设一个记录数据的标记。这个点位，一般多指用户与产品进行某一次交互的接触点。通过收集这些标记点的数据，可以帮助中后台同学

了解产品的整体使情况以及客户行为动作。通过这些数据做出下一步调整或优化的方向，比如AB测试的场景下，数据埋点为实验组的效果提供数据支持，用数据说话是数据埋点最大的价值。

埋点方式分为：全埋点、可视化埋点、代码埋点三类，具体差别如下：

<center>
<img src="./img/bank/data_tracking_20240624_2.png" width="480px">
</center>

整体来说全埋点适用于业务经常调整，且分析诉求比较轻量的场景。而对于通用的功能，形态相对比较固定，且对数据分析颗粒度、下钻深度、聚合程度要求比较高的情况，就需要用到代码埋点。

代码埋点可以选择前端埋点和后端埋点两种，差异具体如下：

<center>
<img src="./img/bank/data_tracking_20240624_3.png" width="480px">
</center>

因为后端埋点是在成功触发了服务端接口调用的情况下进行的，数据准确性较高。但是有些用户操作中未完成关键事件，从而未触发调用服务器接口，所以可能会漏掉部分用户的数据。而前端埋点则不限于APP客户端、H5、微信小程序、PC网页，能获取更细颗粒度数据。

代码埋点避不开就是埋点方案的设计，但全埋点就省了这个程序。简单来说，这个过程就像是提埋点需求，一般包含以下关键信息：

- **埋点位置：** 也就是埋点的具体位置，类似描述电脑中一个具体文件所在的位置一样。比如XXXAPP—贷款首页—页面名称等。
- **埋点事件：** 这里需要描述触发采集数据的条件，也是埋点方案设计的重难点。因为触发时机的准确定义很重要，比如某页面的pv数据，触发时机定义成加载和加载成功，会是完全不同的数据。
- **事件变量定义：** 这个板块是用来描述在埋点事件触发的情况下，需要采集什么具体数据，也就是埋点事件的参数。一般会有变量中文名、变量名、变量类型、取值范围等。

以下为一些银行app埋点实例demo：

<center>
<img src="./img/bank/data_tracking_20240624_4.png" width="480px">
</center>

<center>
<img src="./img/bank/data_tracking_20240624_5.png" width="480px">
</center>

<center>
<img src="./img/bank/data_tracking_20240624_6.png" width="480px">
</center>

## 用户行为分析

有了以上采集的数据，就能对用户在特定环境下的行为进行系统性的收集、跟踪、记录和分析。这就进入的用户行为分析的阶段。常用的用户行为分析可以分为二类：用户行为路径分析、用户行为漏斗分析。

用户行为路径分析：用户在产品中的行为路径和转化过程，可以帮助了解用户的产品使用习惯和行为偏好。

<center>
<img src="./img/bank/data_tracking_20240624_9.png" width="480px">
</center>

上图是用户行为路径的简易demo，通过行为路径就能很清晰的了解到用户的使用习惯，对应的企业就能优化出最优产品路径。

**用户行为漏斗分析：** 用户在产品中的转化过程和流失情况，可以提升用户的最终转化率。

<center>
<img src="./img/bank/data_tracking_20240624_10.png" width="480px">
</center>

上图是用户行为的漏斗分析，左边为未分析优化前，提交订单到支付订单的转化率仅为25.42%，流失率过高。通过埋点方案的设计和采集后，发现支付失败为流失率高的主要原因，具体失败原因分布如下：

<center>
<img src="./img/bank/data_tracking_20240624_11.png" width="480px">
</center>

**调整动作如下：**

1. **预设常用收款方、自动填充账号等方式，减少账号输入难度**
2. **提示账户可操作金额与限额，并增加跳转解决页面路径**
3. **提升支付安全识别时间，降低因输入超时将用户弹出或需要重新输入的比例**

**优化后对比支付订单的转化率由原来的25.42%提升到67.15%**

-----

- [从数据埋点到用户行为分析，数据分析如何提升留存率](https://mp.weixin.qq.com/s/raI5DgzFyPQag7ebCwwYZg)
